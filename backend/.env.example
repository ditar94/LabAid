# LabAid Backend — Environment Variables
# Copy this file to .env and fill in production values.

# =============================================================================
# REQUIRED — CHANGE IN PRODUCTION
# =============================================================================

# PostgreSQL connection string
# Local dev:
DATABASE_URL=postgresql://labaid:labaid@localhost:5432/labaid
# Cloud SQL (via Unix socket on Cloud Run):
# DATABASE_URL=postgresql://labaid:PASSWORD@/labaid?host=/cloudsql/PROJECT:REGION:INSTANCE

# JWT signing key — generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=change-me-in-production-use-a-real-secret

# =============================================================================
# OPTIONAL — sensible defaults provided
# =============================================================================

# JWT settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=480

# CORS — comma-separated origins (e.g. https://app.labaid.com)
CORS_ORIGINS=http://localhost:5173

# Database connection pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# Server port
PORT=8000

# Cookie settings (HTTPS required when COOKIE_SECURE=True)
COOKIE_SECURE=False
COOKIE_DOMAIN=
COOKIE_SAMESITE=lax

# File upload limit (MB)
MAX_UPLOAD_SIZE_MB=50

# Google Cloud Error Reporting (set to enable)
# GCP_PROJECT=your-gcp-project-id

# =============================================================================
# OBJECT STORAGE (S3-compatible) — CHANGE IN PRODUCTION
# =============================================================================
# Required for document uploads (QC docs, lot verifications).
# Leave unset for local development (uploads disabled).

# MinIO (local dev):
# S3_ENDPOINT_URL=http://localhost:9000
# S3_ACCESS_KEY=labaid-dev
# S3_SECRET_KEY=labaid-dev-secret
# S3_BUCKET=labaid-documents
# S3_REGION=us-east-1
# S3_USE_PATH_STYLE=true
#
# Google Cloud Storage (production — uses S3-compatible HMAC keys):
# S3_ENDPOINT_URL=https://storage.googleapis.com
# S3_ACCESS_KEY=your-hmac-access-key
# S3_SECRET_KEY=your-hmac-secret-key
# S3_BUCKET=labaid-documents-prod
# S3_REGION=us-east-1
# S3_USE_PATH_STYLE=false

# =============================================================================
# EMAIL NOTIFICATIONS (SMTP) — for super admin ticket alerts
# =============================================================================
# Leave unset to disable email notifications.

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@labaid.com
# ADMIN_EMAIL=admin@labaid.com

# =============================================================================
# EMAIL-BASED ACCOUNT INVITATIONS
# =============================================================================
# Backend for sending invite/reset emails.
# "console" — logs to stdout + returns link in API response (dev/beta)
# "resend" — sends via Resend API (production)
EMAIL_BACKEND=console

# Resend API key (required when EMAIL_BACKEND=resend)
# RESEND_API_KEY=re_xxxxxxxxx

# Public app URL for email links (e.g. https://app.labaid.io)
APP_URL=http://localhost:5173
